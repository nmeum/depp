<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>{{ .Title }}</title>
		<style>
			{{ template "style.css" }}
		</style>
	</head>
	<body>
		<header>
			<h1>{{ .Title }}</h1>
			<pre>git clone {{ .URL }}/{{ .Title }}.git</pre>

			<section class="branches">
				<h2>Branches:</h2>
				<nav>
				{{ $curBranch := .CurBranch }}
				{{ range .Branches }}
						<!-- TODO: set current -->
						<a {{ if (eq $curBranch .) }}class="current"{{ end }} href="">{{ . }}</a>
					{{ end }}
				</nav>
			</section>
		</header>

		<main>
			{{ if .Commits }}
				{{ template "commits.tmpl" .Commits }}
			{{ end }}

			{{/* TODO: Somehow make this optional again */}}
			{{/* TODO: Make path/prefix configurable */}}
			{{ template "tree.tmpl" .FilesByRoot "" }}

			{{ if .Readme }}
				{{ template "readme.tmpl" .Readme }}
			{{ end }}
		</main>
	</body>
</html>
